<template>
  <div class="service_container">
    <head-top head-title="服务中心" goBack="true"></head-top>
    <div class="service_connect">
      <div class="connect_item">
        <svg t="1617890784263" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4193" width="128" height="128"><path d="M516.01976889 805.81063111c4.96867555 0 10.02496-0.30264889 15.11651556-0.90794666 48.79928889-5.85500445 90.23601778-39.96330667 105.53344-86.96832a7.21237333 7.21237333 0 0 0-3.87982223-8.83143112c-3.33141333-1.54965333-7.36256-0.20935111-9.23875555 2.94229334-0.18090667 0.30264889-19.56750222 31.61998222-95.05336889 41.81447111a247.52241778 247.52241778 0 0 1-32.71566223 2.30741333c-52.8896-0.02958222-76.45297778-19.96458667-76.66801777-20.15004444a7.24764445 7.24764445 0 0 0-10.96362667 9.25582222c23.02179555 37.32366222 64.33564445 60.53774222 107.86929778 60.53774222z m405.86808889-467.80416c-0.66901333 0-1.26976 0.12174222-1.91032889 0.12174222-44.22656-191.47548445-213.22183111-334.30869333-415.83502222-334.30869333-208.19057778 0-381.05884445 150.72711111-419.3792 350.11925333-37.25880889 6.70492445-65.61109333 39.45016889-65.61109334 79.05052445v158.49244444c0 44.42453333 35.62154667 80.44316445 79.60348445 80.44316445 24.81152 0 46.70919111-11.71456 61.27843555-29.70965334 35.19715555 93.09639111 106.86122667 168.16924445 197.55235556 207.7696 0.21504-0.47104 1.93308445-3.80928 3.99473778-6.46599111 1.4336-1.84661333 3.02990222-3.36099555 4.39864888-3.36099555 1.42222222 0 2.72611555 0.51882667 3.8456889 1.30503111-20.99541333-15.62965333-96.81351111-95.95107555-113.2293689-208.04949333-7.21237333-49.34087111 29.74492445-97.77379555 72.78819556-105.78375112 69.09610667-12.86826667 137.82357333-27.52512 206.91968-40.14876444 43.92277333-8.00995555 73.94190222-32.10353778 92.29653334-72.22385778 4.3008-9.37870222 10.50965333-28.34090667 13.35864888-55.68512 0.75776-4.06641778 4.08917333-7.19416889 8.35925334-7.19416889 2.84899555 0 5.27246222 1.45635555 6.87445333 3.54759111l1.91146667-1.18328888c27.23271111 39.53777778 81.24074667 127.08864 88.99356444 219.39768888 8.90766222 105.54026667 3.93898667 177.82101333-76.84892444 251.77429334a3.43153778 3.43153778 0 0 1-0.33109334 0.30378666 6.62983111 6.62983111 0 0 0-1.78858666 4.52039112c0 2.27783111 1.21173333 4.21774222 2.97073778 5.39989333 0.66446222 0.27306667 1.33347555 0.63488 1.99793777 0.90908444 0.54727111 0.12174222 1.06040889 0.30264889 1.60768 0.30264889s1.03082667-0.18090667 1.51438223-0.30264889c1.15370667-0.60643555 2.24369778-1.30503111 3.36213333-1.91146667A369.41937778 369.41937778 0 0 0 853.90563555 624.57173333a81.69585778 81.69585778 0 0 0 51.40366223 34.31765334C871.10769778 814.4384 732.37617778 911.78666667 560.50801778 926.56071111c-10.29916445-25.55107555-35.65112889-43.69635555-65.43132445-43.69635556-38.88924445 0-70.42844445 30.79850667-70.42844444 68.76273778s31.53237333 68.73315555 70.42844444 68.73315556c31.35260445 0 57.61365333-20.15004445 66.73066667-47.8208 198.94954667-16.17578667 358.43185778-134.42616889 391.72551111-318.16590222 29.41155555-12.29141333 50.06904889-41.15114667 50.06904889-74.83392V419.16643555c0.01137778-44.80341333-36.58410667-81.15996445-81.71406222-81.15996444z m-73.39349333 46.06748444C796.60714667 243.51744 662.14456889 143.10513778 503.96728889 143.10513778c-157.51395555 0-291.49297778 99.56238222-343.86375111 239.20981333-2.60323555-3.18691555-5.66158222-5.91872-8.66190223-8.68124444 29.65731555-170.17742222 176.11434667-299.56551111 352.71111112-299.56551112 175.74798222 0 321.74990222 128.11832889 352.37432888 297.10791112-3.03445333 4.06641778-5.82542222 8.31260445-8.0327111 12.89784888zM357.59672889 849.99054222l-0.01137778-0.00568889c-0.03413333 0.07623111-0.03413333 0.08760889 0.01137778 0.00568889z" fill="#fc7b52" p-id="4194"></path></svg>
        <span>在线客服</span>
      </div>
      <div class="connect_item">
        <svg t="1617890825138" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5242" width="128" height="128"><path d="M881.28 707.2c-128-102.4-165.12-51.2-220.8 5.12-42.24 41.6-144.64-44.8-230.4-133.12S256 384 296.96 348.16C355.2 289.92 404.48 256 302.08 128S128 96.64 73.6 152.96s-4.48 307.2 234.88 547.2 481.92 300.8 547.2 235.52c55.68-55.68 156.16-128 25.6-228.48z m0 0" p-id="5243" fill="#2aa515"></path></svg>
        <span>联系我们</span>
      </div>
    </div>
    <p class="hot_question">热门问题</p>
    <ul class="title_ul">
      <li @click="toQuestionDetail(item,index)" class="title_li" v-for="(item,index) in questionTitle" :key="index">
        <span>{{item}}</span>
        <svg t="1617893810244" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1976" width="128" height="128"><path d="M195.404987 131.964732A72.53013 72.53013 0 0 1 195.148998 22.998878C228.17154-7.378447 281.929166-7.378447 313.501104 21.804264l515.56123 433.815506c17.065913 15.61531 25.257551 36.691713 24.148267 54.610921a74.236721 74.236721 0 0 1-25.428211 59.474707l-512.830683 431.511608a89.852032 89.852032 0 0 1-119.632049 0 72.53013 72.53013 0 0 1 0-108.965854L646.969043 512.022612 195.319658 131.964732z" p-id="1977"></path></svg>
      </li>
      

    </ul>
    <transition name="router-slid" mode="out-in">
      <router-view></router-view>
    </transition>
  </div>
</template>

<script>
import headTop from 'components/header/header'
import {getService} from 'network/getDate'
import {mapMutations} from 'vuex'
export default {
  name:'service',
  components:{
    headTop
  },
  data(){
    return{
      serviceData:null,
      questionTitle:[],
      questionDetail:[]
    }
  },
  mounted(){
    this.initData();
    
  },
  methods:{
    ...mapMutations(['SAVE_QUESTION']),
    async initData(){
      let res = await getService();
      this.serviceData = res.data;
      console.log(res);
      Object.keys(this.serviceData).forEach(item =>{
        let avoidRepeat = false;
        this.questionTitle.forEach((insertItem) =>{
          if(insertItem == this.serviceData[item]){
            avoidRepeat = true
          }})
          if(item.indexOf('Caption') !== -1 && !avoidRepeat){
            this.questionTitle.push(this.serviceData[item])
          }else if(!avoidRepeat){
            this.questionDetail.push(this.serviceData[item])
          }
        
      })
    },
    toQuestionDetail(title,index){
      this.SAVE_QUESTION({title,detail:this.questionDetail[index]});
      console.log(this.questionDetail[index]);
      this.$router.push('/service/serviceDetail');
    }
  }
}
</script>

<style lang="scss" scoped>
  @import 'style/mixin';
  .service_container{
    padding-top: 2.4rem;
    background-color: #fff;
    .service_connect{
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid #f5f5f5;
      .connect_item{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex: 1;
        padding: 1.3rem 0;
        .icon{
          width: 1.5rem;
          height: 1.5rem;
        }
        span{
          @include sc(.6rem,#666);
          padding-top: .5rem;
        }
        
      }
      .connect_item:nth-of-type(1){
            border-right:1px solid #f5f5f5;
      }
    }
    .hot_question{
      height: 3.5rem;
      line-height: 3.5em;
      padding: 0 1rem;
    }
    ul{
      padding: 0 .8rem;
      .title_li{
        height: 2.8rem;
        display: flex;
        justify-content: space-between;
        border-top: 0.01rem solid #f5f5f5;
        align-items: center;
        span{
        @include sc(.9rem,#666);          
        }
        .icon{
          width:.7em;
          height: .7rem;
          fill: rgb(153, 153, 153);
        }
      }
    }   
  }
  .router-slid-enter-active, .router-slid-leave-active {
        transition: all .4s;
    }
  .router-slid-enter, .router-slid-leave-active {
        transform: translate3d(2rem, 0, 0);
        opacity: 0;
    }
</style>